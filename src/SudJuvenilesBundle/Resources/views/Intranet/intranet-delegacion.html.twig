{% extends '::base.html.twig' %}
{% block title %}Sudamericanos Juveniles{% endblock %}
{% block body %}

    <nav class="navbar navbar-expand-lg navbar-light bg-light" role="navigation">
        <a class="navbar-brand" href="#">
            <img src="{{asset('assets/images/logaso.png')}}" height="80" class="d-inline-block align-top" alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">

            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <span class="nav-link" style="margin-right:30px;">
                        Usuario: <b>Administrador</b>
                    </span>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{url('panel-delegaciones')}}">Volver</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{url('sudamericanos_juveniles_logout')}}">Salir</a>
                </li>
            </ul>
        </div>
    </nav>

    </header>


    <section class="section-white">

        <div class="row">

            <div class="col-xs-8 col-sm-8 col-md-2 col-lg-2 container">

                <img src="{{asset(delegacion['imagen'])}}" class="img-fluid">

                <h1 class="text-center">{{delegacion['nombre']}}</h1>

            </div>

        </div>

    </section>

    <section class="section-white">

        <div class="container">

            <div id="accordion">

                
                {% for disciplinaDeleg in disciplinasDelegacion %}

                    {% if disciplinaDeleg['disciplinaCategoria'] == 1 %}

                        <h4>Miembros no Deportivos</h4>

                        <div class="card">
                            <div class="card-header" id="headingOne">
                                <h5 class="mb-0">
                                    <button class="btn btn-lg btn-block btn-light" data-toggle="collapse" data-target="#collapseOne"
                                        aria-expanded="false" aria-controls="collapseOne">
                                        Delegaci√≥n
                                    </button>
                                </h5>
                            </div>

                            <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">

                                <div class="card-body">

                                    <div class="panel panel-default" style="overflow-x:auto; overflow-y:scroll; height:40vh; ">
                                        <table class="table" style="width: 100%;">
                                            <thead style="background:#0091EA; color:#F2F2F2;" class="text-center">
                                                <tr>
                                                    <th class="text-center" style="font-size:16px">Nombres y Apellidos</th>
                                                    <th class="text-center" style="font-size:16px">Doc de Identidad</th>
                                                    <th class="text-center" style="font-size:16px">Cargo</th>
                                                    <th class="text-center" style="font-size:16px">Sexo</th>
                                                    <th class="text-center" style="font-size:16px">Estado</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th></th>
                                                </tr>

                                            </thead>

                                            <tbody  class="buscar">

                                                {% for participante in participantes %}

                                                    {% if participante['disciplinaId'] == disciplinaDeleg['disciplinaId']  %}
                                                        <tr>
                                                            <td  class="text-center">{{participante['nombresApellidos']}}</td>
                                                            <td  class="text-center">{{participante['numeroDocumento']}}</td>
                                                            <td  class="text-center">{{participante['tipoParticipante']}}</td>
                                                           <td  class="text-center">{{participante['sexo']}}</td>  
                                                            
                                                            <td class="text-center">{{participante['estado']}}</td>

                                                            <td>
                                                            <button data-toggle="tooltip" title="Editar" type="button" class="btn btn-info"><i class="fas fa-edit" style="color:white;" ></i></button>
                                                            </td>

                                                            <td><button data-toggle="tooltip" title="Mostrar Documentos"  type="button" class="btn btn-info "><i class="fas fa-eye" style="color:white;" ></i></button>
                                                            </td>

                                                            <td><button data-toggle="tooltip" title="Eliminar" type="button" class="btn btn-info "><i class="fas fa-trash-alt" style="color:white;" ></i></button>
                                                            </td>
                                                        </tr>

                                                    {% endif %}

                                                {% endfor %}

                                            </tbody>
                                        </table>
                                    </div>

                                    <br>
                                    <div class="dropdown-divider"></div>
                                    <br>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-right">
                                        <button type="button" class="btn btn-success" data-toggle="modal" data-target="#modal-nuevo-integrante" onclick="btnNuevoIntegrante({{disciplinaDeleg['disDelegId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['disciplinaId']}},{{disciplinaDeleg['delegacionTipoGrupo']}})">Nuevo
                                            integrante</button>
                                    </div>

                                </div>
                            </div>
                        </div>

                    {% endif %}

                {% endfor %}

                <br>
                <br>
                <br>

                <h4>Miembros deportivos</h4>
                {% set cont = 0 %}
                {% for disciplinaDeleg in disciplinasDelegacion %}

                    {% if disciplinaDeleg['disciplinaCategoria'] == 2 %}

                        <div class="card">

                            <div class="card-header" id="headingTwo">
                                <h5 class="mb-0">
                                    <button class="btn btn-lg btn-block btn-light" data-toggle="collapse" data-target="#collapseMd{{cont}}"
                                        aria-expanded="false" aria-controls="collapseMd{{cont}}">
                                        {{ disciplinaDeleg['disciplinaNombre']|lower|capitalize }}
                                    </button>
                                </h5>
                            </div>

                            <div id="collapseMd{{cont}}" class="collapse" aria-labelledby="heading" data-parent="#accordion">
                                <div class="card-body">

                                    <div class="panel panel-default" style="overflow-x:auto; overflow-y:scroll; height:50vh; ">

                                        <table class="table" style="width: 100%;">
                                            <thead style="background:#0091EA; color:#F2F2F2;" class="text-center">
                                                <tr>
                                                    <th class="text-center" style="font-size:16px">Nombres y Apellidos</th>
                                                    <th class="text-center" style="font-size:16px">Doc de Identidad</th>
                                                    <th class="text-center" style="font-size:16px">Tipo</th>
                                                    <th class="text-center" style="font-size:16px">Sexo</th>
                                                    <th class="text-center" style="font-size:16px">Estado</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th></th>
                                                </tr>

                                            </thead>

                                            <tbody  class="buscar">

                                                {% for participante in participantes %}

                                                    {% if participante['disciplinaId'] == disciplinaDeleg['disciplinaId']  %}
                                                        <tr>
                                                            <td  class="text-center">{{participante['nombresApellidos']}}</td>
                                                            <td  class="text-center">{{participante['numeroDocumento']}}</td>
                                                            <td  class="text-center">{{participante['tipoParticipante']}}</td>
                                                           <td  class="text-center">{{participante['sexo']}}</td>  
                                                            
                                                            <td class="text-center">{{participante['estado']}}</td>

                                                            <td>
                                                            <button onclick="obtenerInfoParti({{participante['inscripcionId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['delegacionTipoGrupo']}})" data-toggle="modal" data-target="#modal-editar-integrante"  data-toggle="tooltip" title="Editar" type="button" class="btn btn-info "><i class="fas fa-edit" style="color:white;"></i></button>
                                                            </td>

                                                            <td><button data-toggle="tooltip" title="Mostrar Detalle"  type="button" class="btn btn-info "><i class="fas fa-eye" style="color:white;" ></i></button>
                                                            </td>

                                                            <td><button data-toggle="tooltip" title="Eliminar" type="button" class="btn btn-info "><i class="fas fa-trash-alt" style="color:white;" ></i></button>
                                                            </td>
                                                        </tr>

                                                    {% endif %}

                                                {% endfor %}

                                            </tbody>
                                        </table>

                                    </div>

                                    <br>
                                    <div class="dropdown-divider"></div>
                                    <br>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-right">
                                        <button type="button" onclick="btnNuevoIntegrante({{disciplinaDeleg['disDelegId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['disciplinaId']}},{{disciplinaDeleg['delegacionTipoGrupo']}})"  class="btn btn-success" data-toggle="modal" data-target="#modal-nuevo-integrante">Nuevo
                                            integrante</button>
                                    </div>

                                </div>
                            </div>

                        </div>

                    {% endif %}

                    {% set cont = cont + 1 %}
                {% endfor %}

            </div>

            <br>
            <br>

            <div class="text-right">
                <button type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#modal-nueva-foto">Descargar credenciales</button>
                    <button type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#modal-nueva-foto">Descargar listado</button>
            </div>


        </div>


    </section>

    {% include 'SudJuvenilesBundle:Default:footer.html.twig' %} 

    <!-- MODAL EDITAR INFO PARTICIPANTE -->

    <div class="modal fade" id="modal-nuevo-integrante" role="dialog" aria-hidden="true">

        <div class="modal-dialog modal-lg" role="document">

                <div class="modal-content">

                    <form id="submit_form" action="#" enctype="multipart/form-data" method="POST" >


                    <div class="modal-header header-modal">

                        <h4 class="modal-title">Registra un nuevo integrante</h4>

                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:white;">&times;</span>
                        </button>

                    </div>

                    <div class="modal-body">

                        <div class="row">

                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                                <div id="alerta-error" class="alert alert-danger collapse text-center"></div>

                                <h5>Informacion personal</h5>

                                <ul class="list-group">

                                    <input type="hidden" name="disDelegId" id="disDelegId">
                                    <input type="hidden" name="paisRepresenta" id="paisRepresenta">

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Foto de perfil</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="fotoPerfil"  id="fotoPerfil">
                                                </div>

                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Tipo Doc</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <select class="form-control" name="tipoDocumento"  id="tipoDocumento">
                                                            <option value="1">DNI</option>
                                                            <option value="2">Pasaporte</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Num Doc:</strong></p>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                        <input class="form-control" name="numeroDocumento"  id="numeroDocumento" type="text">
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">
                                        <div class="row">
                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                <p><span style="color:#B31A12">*</span><strong> Nombres:</strong></p>
                                            </div>
                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                <input  class="form-control" name="nombre" id="nombre" type="text" value="carlos javier" >
                                            </div>
                                        </div>
                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Apellido
                                                                Paterno</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <input  class="form-control" id="apellidoPaterno" name="apellidoPaterno"  type="text" value="majerhua" >
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Apellido
                                                                Materno:</strong></p>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                        <input class="form-control" name="apellidoMaterno"  id="apellidoMaterno" type="text" value="nu√±ez" >
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Sexo</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <select class="form-control" name="sexoId" id="sexoId">
                                                            <option value="1" >Hombre</option>
                                                            <option value="2" >Mujer</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Fecha de
                                                                Nacimiento:</strong></p>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                        <input class="form-control" type="date"  name="fechaNacimiento" id="fechaNacimiento" value="1994-10-06" >
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row" >

                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Correo:</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <input type="email" class="form-control" name="correo" id="correo" value="majerhua123@gmail.com" >
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Pa√≠s Origen:</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <select class="form-control" name="paisOrigen" id="paisOrigen">
                                                            {% for pais in paises %}
                                                                <option value="{{pais['id']}}">{{pais['nombre']}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                                <p><span style="color:#B31A12">*</span><strong> Modalidad:</strong></p>
                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">

                                                <div class="row"  id="modal-container-modalidades">


                                                   
                                                </div>

                                            </div>
                                        </div>

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                                <p><span style="color:#B31A12">*</span><strong> Divisiones:</strong></p>
                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">

                                                <div class="row"  id="modal-container-divisiones">


                                                   
                                                </div>

                                            </div>
                                        </div>    
                                    </li>

                                    <li  class="list-group-item">

                                        <div class="row">
                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                <p><span style="color:#B31A12">*</span><strong> Tipo de participante:</strong></p>
                                            </div>
                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                <select class="form-control" id="tipoParticipante" name="tipoParticipante" >
                                                </select>
                                            </div>
                                        </div>

                                    </li>

                                </ul>

                                <br>

                                <h5>Documentacion</h5>

                                <ul class="list-group">

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Documento de identidad</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file"  name="documentoIdentidad" id="documentoIdentidad">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Constancia de estudios</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file"  name="constEstudio" id="constEstudio">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Ficha medica vigente</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="fichaMedicaVigente" id="fichaMedicaVigente">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Formulario de
                                                        inscripcion</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="formularioInscripcion" id="formularioInscripcion">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Poliza de seguro</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="polizaSeguro" id="polizaSeguro">
                                                </div>

                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                                <p> ¬øEl participante presenta alg√∫n tipo de discapacidad f√≠sica o
                                                    mental?
                                                </p>
                                            </div>


                                            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="estadoDis"  name="estadoDis" value="1">
                                                    <label class="form-check-label" for="defaultCheck1" >
                                                        Si
                                                    </label>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Certificado de
                                                        discapacidad</strong></p>
                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" id="certificadoDis" name="certificadoDis" >
                                                </div>

                                            </div>
                                        </div>
                                    </li>

                                </ul>

                                <br>

                                <span style="color:#B31A12; font-size:12px;">(*) Campos obligatorios.</span><br>
                                <span style="color:grey; font-size:12px;"> Los formatos v√°lidos en las im√°genes son:
                                    'png', 'jpg' o 'jpeg'. Peso m√°ximo de 5M. </span>

                            </div>
                        </div>
                        </form>
                    </div>

                    <div class="modal-footer">

                        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                        <button id="btn_guardar" type="button" class="btn btn-success">Guardar</button>
                    </div>
                </div>
            

        </div>
    </div>

    <div class="modal fade" id="modal-editar-integrante" role="dialog" aria-hidden="true">

        <div class="modal-dialog modal-lg" role="document">

                <div class="modal-content">

                    <form id="submit_form" action="#" enctype="multipart/form-data" method="POST" >


                    <div class="modal-header header-modal">

                        <h4 class="modal-title">Editar integrante</h4>

                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:white;">&times;</span>
                        </button>

                    </div>

                    <div class="modal-body">

                        <div class="row">

                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                                <div id="alerta-error" class="alert alert-danger collapse text-center"></div>

                                <h5>Informacion personal</h5>

                                <ul class="list-group">

                                    <input type="hidden" name="editDisDelegId" id="editDisDelegId">
                                    <input type="hidden" name="editPaisRepresenta" id="editPaisRepresenta">

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Foto de perfil</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="editFotoPerfil"  id="editFotoPerfil">
                                                </div>

                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Tipo Doc</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <select class="form-control" name="editTipoDocumento"  id="editTipoDocumento">
                                                            <option value="1">DNI</option>
                                                            <option value="2">Pasaporte</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Num Doc:</strong></p>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                        <input class="form-control" name="editNumeroDocumento"  id="editNumeroDocumento" type="text">
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">
                                        <div class="row">
                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                <p><span style="color:#B31A12">*</span><strong> Nombres:</strong></p>
                                            </div>
                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                <input  class="form-control" name="editNombre" id="editNombre" type="text" value="carlos javier" >
                                            </div>
                                        </div>
                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Apellido
                                                                Paterno</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <input  class="form-control" id="editApellidoPaterno" name="editApellidoPaterno"  type="text" value="majerhua" >
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Apellido
                                                                Materno:</strong></p>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                        <input class="form-control" name="editApellidoMaterno"  id="editApellidoMaterno" type="text" value="nu√±ez" >
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Sexo</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <select class="form-control" name="editSexoId" id="editSexoId">
                                                            <option value="1" >Hombre</option>
                                                            <option value="2" >Mujer</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Fecha de
                                                                Nacimiento:</strong></p>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                        <input class="form-control" type="date"  name="editFechaNacimiento" id="editFechaNacimiento" value="1994-10-06" >
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row" >

                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Correo:</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <input type="email" class="form-control" name="editCorreo" id="editCorreo" value="majerhua123@gmail.com" >
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                <div class="row">
                                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                        <p><span style="color:#B31A12">*</span><strong> Pa√≠s Origen:</strong></p>
                                                    </div>
                                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                        <select class="form-control" name="editPaisOrigen" id="editPaisOrigen">
                                                            {% for pais in paises %}
                                                                <option value="{{pais['id']}}">{{pais['nombre']}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                                <p><span style="color:#B31A12">*</span><strong> Modalidad:</strong></p>
                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">

                                                <div class="row"  id="editModal-container-modalidades">


                                                   
                                                </div>

                                            </div>
                                        </div>

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                                <p><span style="color:#B31A12">*</span><strong> Divisiones:</strong></p>
                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">

                                                <div class="row"  id="editModal-container-divisiones">


                                                   
                                                </div>

                                            </div>
                                        </div>    
                                    </li>

                                    <li  class="list-group-item">

                                        <div class="row">
                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                <p><span style="color:#B31A12">*</span><strong> Tipo de participante:</strong></p>
                                            </div>
                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                <select class="form-control" id="editTipoParticipante" name="editTipoParticipante" >
                                                </select>
                                            </div>
                                        </div>

                                    </li>

                                </ul>

                                <br>

                                <h5>Documentacion</h5>

                                <ul class="list-group">

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Documento de identidad</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file"  name="editDocumentoIdentidad" id="editDocumentoIdentidad">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Constancia de estudios</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file"  name="editConstEstudio" id="editConstEstudio">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Ficha medica vigente</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="editFichaMedicaVigente" id="editFichaMedicaVigente">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Formulario de
                                                        inscripcion</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="editFormularioInscripcion" id="editFormularioInscripcion">
                                                </div>

                                            </div>

                                        </div>

                                    </li>
                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Poliza de seguro</strong></p>

                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" name="editPolizaSeguro" id="editPolizaSeguro">
                                                </div>

                                            </div>

                                        </div>

                                    </li>

                                    <li class="list-group-item">

                                        <div class="row">

                                            <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                                <p> ¬øEl participante presenta alg√∫n tipo de discapacidad f√≠sica o
                                                    mental?
                                                </p>
                                            </div>


                                            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="editEstadoDis"  name="editEstadoDis" value="1">
                                                    <label class="form-check-label" for="defaultCheck1" >
                                                        Si
                                                    </label>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="row">

                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

                                                <p><span style="color:#B31A12">*</span><strong> Certificado de
                                                        discapacidad</strong></p>
                                            </div>

                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">

                                                <div class="form-group">
                                                    <input type="file" class="form-control-file" id="editCertificadoDis" name="editCertificadoDis">
                                                </div>

                                            </div>
                                        </div>
                                    </li>

                                </ul>

                                <br>

                                <span style="color:#B31A12; font-size:12px;">(*) Campos obligatorios.</span><br>
                                <span style="color:grey; font-size:12px;"> Los formatos v√°lidos en las im√°genes son:
                                    'png', 'jpg' o 'jpeg'. Peso m√°ximo de 5M. </span>

                            </div>
                        </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                        <button id="btn_guardar" type="button" class="btn btn-success">Editar</button>
                    </div>

                </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}

    <script>

        $('[data-toggle="tooltip"]').tooltip();

        var modalidadInscripcion =  new Array();
        var divisionInscripcion =  new Array();

        const obtenerInfoParti = function(inscripcionId,disciplinaCategoria,delegTipoGrupo){

            console.log("Inscripcion Id=>",inscripcionId);
            console.log("Disciplina Categoria =>",disciplinaCategoria);
            console.log("Disciplina Tipo Grupo =>",delegTipoGrupo);

            const datos = {
                                    'inscripcionId':inscripcionId
                                    }

            $.ajax({
                url: "{{url('participanteObtener')}}",
                type: 'POST',
                data: datos ,
                beforeSend: function() {
                    console.log("Datos a Enviar ==> ",datos);
                },
                success: function(data) {
                    let datosParticipante = JSON.parse(data)[0];

                    $("#editNumeroDocumento").val(datosParticipante.numeroDocumento);
                    $("#editTipoDocumento").val(datosParticipante.tipoDocumento);
                    $("#editNombre").val(datosParticipante.nombre);
                    $("#editApellidoPaterno").val(datosParticipante.apellidoPaterno);
                    $("#editApellidoMaterno").val(datosParticipante.apellidoMaterno);
                    $("#editSexoId").val(datosParticipante.sexoId);
                    $("#editFechaNacimiento").val(datosParticipante.fechaNacimiento);
                    $("#editCorreo").val(datosParticipante.correo);
                    $("#editPaisOrigen").val(datosParticipante.paisOrigen);

                    {% for tipPar in tiposParticipante %}

                        if( "{{tipPar['categoria_id']}}" == disciplinaCategoria && "{{tipPar['tipo_grupo_id']}}" == delegTipoGrupo ){ 
                            $("#editTipoParticipante").append("<option value='{{tipPar['id']}}'>{{tipPar['nombre']}}</option>");
                        }

                    {%  endfor %}

                    console.log("Informacion Participante => ",datosParticipante);
                },
                error: function (error) {
                    console.log("Error =>",error);
                }
            });
        };

        const btnNuevoIntegrante = function(disDelegId,disciplinaCategoria,disciplinaId,delegTipoGrupo){

            modalidadInscripcion = [];
            divisionInscripcion = [];

            console.log("Categoria Disciplina =>",disciplinaCategoria);
            console.log("Delegacion Grupo => ",delegTipoGrupo);
            $("#tipoParticipante").empty();
            $("#modal-container-modalidades").empty();
            $("#modal-container-divisiones").empty();

            $("#disDelegId").val(disDelegId);
            $("#paisRepresenta").val("{{delegacion['paisId']}}");

            {% for tipPar in tiposParticipante %}

                if( "{{tipPar['categoria_id']}}" == disciplinaCategoria && "{{tipPar['tipo_grupo_id']}}" == delegTipoGrupo ){ 
                    $("#tipoParticipante").append("<option value='{{tipPar['id']}}'>{{tipPar['nombre']}}</option>");
                }

            {%  endfor %}


            {%  for modalidad in modalidades %}

                if("{{modalidad['disciplinaId']}}" == disciplinaId ){
                    $("#modal-container-modalidades").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkModalidad(this)' value='{{modalidad['modalidadId']}}' >{{modalidad['modalidadNombre']}}</label></div></div>");
                }

            {% endfor %}

            {%  for division in divisiones %}

                if("{{division['disciplinaId']}}" == disciplinaId ){
                    $("#modal-container-divisiones").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkDivision(this)' value='{{division['divisionId']}}'>{{division['divisionNombre']}}</label></div></div>");
                }

            {% endfor %}

        };

        const checkModalidad = function(element){

            if (element.checked) 
                modalidadInscripcion.push(element.value);

            else         
                modalidadInscripcion.splice( modalidadInscripcion.indexOf(element.value), 1);

            console.log("Array Modalidad =>",modalidadInscripcion);
        };

        const checkDivision = function(element){

            if (element.checked) 
                divisionInscripcion.push(element.value);

            else         
                divisionInscripcion.splice( divisionInscripcion.indexOf(element.value), 1);

            console.log("Array Modalidad =>",divisionInscripcion);

        };

        $('#btn_guardar').click( function () {

            var obj = new FormData($("#submit_form")[0]);
            
            console.log("Form =>",obj);

            obj.append('modalidades',modalidadInscripcion);
            obj.append('divisiones',divisionInscripcion);

            $.ajax({
                url: "{{url('participanteRegistrar')}}",
                type: 'POST',
                data: obj,
                contentType: false,
                cache: false,
                processData: false,
                beforeSend: function() {
                    console.log("Datos a Enviar ==> ",obj);
                },
                success: function(data) {

                    console.log(data);

                    // if(data == 1){
                    //     alertify.success('<p style="color:white">Se registro Correctamente.</p>');
                    //     setTimeout(function(){ location.reload(true) }, 1000);
                        
                    // }else if(data == 0){
                    //     alertify.warning('<p style="color:black">Ocurrio un Error a la hora de Registrar.</p>')
                    // }else if(data == -1){
                    //     alertify.warning('<p style="color:black">Ya no existe vacantes para el Tipo de Participante!.</p>')
                    // }
                },
                error: function (error) {
                    console.log("Error =>",error);
                }
            });

        });

    </script>
        }

{% endblock %}
