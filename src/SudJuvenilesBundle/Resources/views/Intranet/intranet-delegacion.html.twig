{% extends '::base.html.twig' %}
{% block title %}Sudamericanos Juveniles{% endblock %}
{% block body %}

{% include 'SudJuvenilesBundle:Default:loader.html.twig' %} 
{% include 'SudJuvenilesBundle:Default:menu_intranet.html.twig' %}

<div style="margin-top: 60px; margin-bottom:60px;">

    <div class="section-title">

        <div class="col-10 col-xs-10 col-sm-8 col-md-4 col-lg-2 container">

            <div class="container-escenario-item container">

                <img src="{{asset(delegacion['imagen'])}}" class="img-fluid zoom card">

                <div class="header-delegacion-item">

                    <h5 class="card-title text-center">{{delegacion['nombre']}}</h5>

                </div>

            </div>

        </div>

    </div>

    <section class="section-white">

        <div class="container">

            <div id="accordion">


                {% for disciplinaDeleg in disciplinasDelegacion %}

                    {% if disciplinaDeleg['disciplinaCategoria'] == 1 %}

                    <h4>Miembros no Deportivos</h4>

                    <div class="card">

                        <div class="card-header" id="headingOne">

                            <h5 class="mb-0">

                                <button class="btn btn-lg btn-block btn-light" data-toggle="collapse" data-target="#collapseOne"
                                aria-expanded="false" aria-controls="collapseOne">
                                Delegaci√≥n
                                </button>

                            </h5>

                        </div>

                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">

                            <div class="card-body">

                                <div class="panel panel-default" style="overflow-x:auto; overflow-y:scroll; height:40vh; ">
                                    
                                    <table class="table" style="width: 100%;">
                                    
                                        <thead class="container-header-yellow text-center">
                                    
                                            <tr>
                                    
                                                <th class="text-center" style="font-size:16px">Nombres y Apellidos</th>
                                                <th class="text-center" style="font-size:16px">Doc de Identidad</th>
                                                <th class="text-center" style="font-size:16px">Cargo</th>
                                                <th class="text-center" style="font-size:16px">Sexo</th>
                                                <th class="text-center" style="font-size:16px">Estado</th>
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                            </tr>

                                        </thead>

                                        <tbody  class="buscar">

                                            {% for participante in participantes %}

                                                {% if participante['disciplinaId'] == disciplinaDeleg['disciplinaId']  %}
                                                
                                                <tr>

                                                    <td  class="text-center">{{participante['nombresApellidos']}}</td>
                                                    <td  class="text-center">{{participante['numeroDocumento']}}</td>
                                                    <td  class="text-center">{{participante['tipoParticipante']}}</td>
                                                    <td  class="text-center">{{participante['sexo']}}</td>  
                                                    <td class="text-center">{{participante['estado']}}</td>
                                                    <td><button data-toggle="modal" data-target="#modal-editar-integrante" onclick="obtenerInfoParti({{disciplinaDeleg['disDelegId']}},{{participante['inscripcionId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['delegacionTipoGrupo']}},{{disciplinaDeleg['disciplinaId']}})" title="Editar" type="button" class="btn btn-info"><i class="fas fa-edit" style="color:white;" ></i></button></td>
                                                    <td><button onclick="detalleInformacionParticipante({{disciplinaDeleg['disDelegId']}},{{participante['inscripcionId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['delegacionTipoGrupo']}},{{disciplinaDeleg['disciplinaId']}})" title="Mostrar Detalle" title="Mostrar Documentos"  type="button" class="btn btn-info" data-toggle="modal" data-target="#modal-detalle-integrante" ><i class="fas fa-eye" style="color:white;" ></i></button></td>
                                                    <td><button  title="Eliminar" onclick="setInscripcionIdInput({{participante['inscripcionId']}})"  type="button" class="btn btn-info " data-toggle="modal" data-target="#modal-eliminar-integrante"><i class="fas fa-trash-alt" style="color:white;" ></i></button></td>

                                                </tr>

                                                {% endif %}

                                            {% endfor %}

                                        </tbody>

                                    </table>

                                </div>

                                <br>

                                <div class="dropdown-divider"></div>

                                <br>

                                <div class="row">

                                    <div class="col-xs-12 col-sm-12 col-md-9 col-lg-8">

                                        <div class="row">
                                        
                                            <div class="col-4">

                                                <p><span class="badge badge-pill badge-warning">1</span> Presidente</p>  
                                                
                                            </div>

                                            <div class="col-4">
                                                <p><span class="badge badge-pill badge-warning">1</span> Presidente</p>  
                                            </div>

                                            <div class="col-4">
                                                <p><span class="badge badge-pill badge-warning">1</span> Presidente</p>  
                                            </div>

                                            <div class="col-4">
                                                <p><span class="badge badge-pill badge-warning">1</span> Presidente</p>  
                                            </div>

                                            <div class="col-4">
                                                <p><span class="badge badge-pill badge-warning">1</span> Presidente</p>
                                            </div>

                                            <div class="col-4">
                                                <p><span class="badge badge-pill badge-warning">1</span> Presidente</p>
                                            </div>

                                        </div>

                                    </div>

                                    {% if tipoUsuarioId != tipoUsuario['acreditador'] %}

                                        <br>
                                        <br>

                                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-4 text-right">

                                            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#modal-nuevo-integrante" onclick="btnNuevoIntegrante({{disciplinaDeleg['disDelegId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['disciplinaId']}},{{disciplinaDeleg['delegacionTipoGrupo']}})">Nuevo integrante</button>

                                        </div>

                                    {%  endif %}

                                </div>

                            </div>

                        </div>

                    </div>

                {% endif %}

            {% endfor %}

            <br>
            <br>
            <br>

            <h4>Miembros deportivos</h4>

            {% set cont = 0 %}

            {% for disciplinaDeleg in disciplinasDelegacion %}

                {% if disciplinaDeleg['disciplinaCategoria'] == 2 %}

                    <div class="card">

                        <div class="card-header" id="headingTwo">

                            <h5 class="mb-0">

                                <button class="btn btn-lg btn-block btn-light" data-toggle="collapse" data-target="#collapseMd{{cont}}"
                                aria-expanded="false" aria-controls="collapseMd{{cont}}">
                                {{ disciplinaDeleg['disciplinaNombre']|lower|capitalize }}
                                </button>

                            </h5>

                        </div>

                        <div id="collapseMd{{cont}}" class="collapse" aria-labelledby="heading" data-parent="#accordion">

                            <div class="card-body">

                                <div class="panel panel-default" style="overflow-x:auto; overflow-y:scroll; height:50vh; ">

                                    <table class="table" style="width: 100%;">

                                        <thead class="container-header-yellow text-center">

                                            <tr>

                                                <th class="text-center" style="font-size:16px">Nombres y Apellidos</th>
                                                <th class="text-center" style="font-size:16px">Doc de Identidad</th>
                                                <th class="text-center" style="font-size:16px">Tipo</th>
                                                <th class="text-center" style="font-size:16px">Sexo</th>
                                                <th class="text-center" style="font-size:16px">Estado</th>
                                                <th></th>
                                                <th></th>
                                                <th></th>

                                            </tr>

                                        </thead>

                                        <tbody  class="buscar">

                                            {% for participante in participantes %}

                                                {% if participante['disciplinaId'] == disciplinaDeleg['disciplinaId']  %}

                                                    <tr>

                                                        <td class="text-center">{{participante['nombresApellidos']}}</td>
                                                        <td class="text-center">{{participante['numeroDocumento']}}</td>
                                                        <td class="text-center">{{participante['tipoParticipante']}}</td>
                                                        <td class="text-center">{{participante['sexo']}}</td>
                                                        <td class="text-center">{{participante['estado']}}</td>
                                                        <td><button onclick="obtenerInfoParti({{disciplinaDeleg['disDelegId']}},{{participante['inscripcionId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['delegacionTipoGrupo']}},{{disciplinaDeleg['disciplinaId']}})" data-toggle="modal" data-target="#modal-editar-integrante"  data-toggle="tooltip" title="Editar" type="button" class="btn btn-info "><i class="fas fa-edit" style="color:white;"></i></button></td>
                                                        <td><button onclick="detalleInformacionParticipante({{disciplinaDeleg['disDelegId']}},{{participante['inscripcionId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['delegacionTipoGrupo']}},{{disciplinaDeleg['disciplinaId']}})" title="Mostrar Detalle"  type="button" class="btn btn-info " data-toggle="modal" data-toggle="tooltip" data-target="#modal-detalle-integrante" ><i class="fas fa-eye" style="color:white;" ></i></button></td>
                                                        <td><button  title="Eliminar" onclick="setInscripcionIdInput({{participante['inscripcionId']}})"  type="button" class="btn btn-info " data-toggle="modal" data-target="#modal-eliminar-integrante"><i class="fas fa-trash-alt" style="color:white;"></i></button></td>                                

                                                    </tr>

                                                {% endif %}

                                            {% endfor %}

                                        </tbody>

                                    </table>

                                </div>

                                <br>

                                <div class="dropdown-divider"></div>
                                
                                <br>

                                {% if tipoUsuarioId != tipoUsuario['acreditador'] %}
                                
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-right">
                                
                                        <button type="button" onclick="btnNuevoIntegrante({{disciplinaDeleg['disDelegId']}},{{disciplinaDeleg['disciplinaCategoria']}},{{disciplinaDeleg['disciplinaId']}},{{disciplinaDeleg['delegacionTipoGrupo']}})"  class="btn btn-success" data-toggle="modal" data-target="#modal-nuevo-integrante">Nuevo integrante</button>

                                    </div>

                                {% endif %}

                            </div>

                        </div>

                    </div>

                {% endif %}

                {% set cont = cont + 1 %}
                
            {% endfor %}

    </div>

    <br>
    <br>

    <div class="row justify-content-between">

        <div class="col-0 col-xs-0 col-sm-0 col-md-2 col-lg-4">

        </div>

        {% if tipoUsuarioId != tipoUsuario['delegacion'] %}

            <div class="col-12 col-xs-12 col-sm-12 col-md-5 col-lg-4">
                <button type="button" class="btn btn-success btn-lg btn-block" id="descargar-credenciales-participantes">Descargar credenciales</button>
                <br>

            </div>

        {% endif %}

        <div class="col-12 col-xs-12 col-sm-12 col-md-5 col-lg-4">
            <button type="button" class="btn btn-success btn-lg btn-block"  id="descargar-listado-participantes" >Descargar listado</button>
        </div>

    </div>


</div>


</section>



<div class="modal fade" id="modal-eliminar-integrante" role="dialog" aria-hidden="true">
    
    <div class="modal-dialog modal-sm">

        <div class="modal-content">

            <div class="modal-header header-modal container-header-yellow">

                <p class="modal-title"><strong>¬øDesea eliminar al participante?</strong></p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                
                    <span aria-hidden="true" style="color:white;">&times;</span>
                
                </button>

            </div>

            <div class="modal-body">

                <div class="container">

                    <div class="row justify-content-md-center">

                        <div class="col-lg-5">

                            <br>

                            <img src="{{asset('assets/images/trash.png')}}" class="img-fluid">

                            <br>
                            <br>
                            <br>

                        </div>

                    </div>

                    <div class="row">

                        <div class="col">
        
                            <input type="hidden" name="elimInscripcionId" id="elimInscripcionId">
                            <button class="btn btn-default btn-block" data-dismiss="modal">Cancelar</button>

                        </div>

                        <div class="col">

                            <button class="btn btn-danger btn-block" id="btnConfElimInscripcion">Eliminar</button>

                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>

</div>

<div class="modal fade" id="modal-detalle-integrante" role="dialog" aria-hidden="true">

    <div class="modal-dialog modal-lg" role="document">

        <div class="modal-content">

            <div class="modal-header container-header-yellow">

                <h4 class="modal-title">Detalle del participante</h4>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="color:white;">&times;</span>
                </button>

            </div>

            <div class="modal-body">

                <div class="row">

                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                        <div class="col-10 col-xs-10 col-sm-8 col-md-4 col-lg-4 container">

                            <div class="container-escenario-item container">

                                <img id="detFotoPerfil" class="img-fluid card">

                            </div>

                        </div>

                        <h5>Informacion personal</h5>

                        <ul class="list-group">

                            <li class="list-group-item">

                                <div class="row">

                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                        <div class="row">
                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                <p><strong>Tipo Doc</strong></p>
                                            </div>
                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                <p id="detTipoDocumento">DNI</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                <p><strong>Num Doc:</strong></p>
                                            </div>
                                            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                <p id="detNumeroDocumento">70002229</p>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </li>

                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                        <p><strong>Nombres:</strong></p>
                                    </div>
                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                        <p id="detNombre">Bryam Angel</p>
                                    </div>
                                </div>
                            </li>

                            <li class="list-group-item">

                                <div class="row">

                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                        <div class="row">
                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                <p><strong>Apellido Paterno:</strong></p>
                                            </div>
                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                <p id="detApellidoPaterno">Soto</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                <p><strong>Apellido Materno:</strong></p>
                                            </div>
                                            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                <p id="detApellidoMaterno">√ëahui</p>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </li>

                            <li class="list-group-item">

                                <div class="row">

                                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                        <div class="row">
                                            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                <p><strong>Sexo</strong></p>
                                            </div>
                                            <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                <p id="detSexoId">Masculino</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                <p><strong>Fecha de Nacimiento:</strong></p>
                                            </div>
                                            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                <p id="detFechaNacimiento">24/04/96</p>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </li>

                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                        <p><strong>Correo:</strong></p>
                                    </div>
                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                        <p id="detCorreo">bsoto.dev@gmail.com</p>
                                    </div>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                        <p><strong>Pa√≠s de nacimiento:</strong></p>
                                    </div>
                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                        <p id="detPaisOrigen">Peru</p>
                                    </div>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                        <p><strong>Tipo de participante:</strong></p>
                                    </div>
                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                        <p id="detTipoParticipante">Deportista</p>
                                    </div>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                        <p><strong>Asignaciones:</strong></p>
                                    </div>
                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                        <p id="detAsignaciones">Transporte, Alimentos, Hospedaje</p>
                                    </div>
                                </div>
                            </li>

                            <li class="list-group-item" id="container-modalidad-detalle">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                        <p><strong>Modalidad:</strong></p>
                                    </div>
                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                        <p id="detModalidades">100 m. planos, Postas 4x400</p>
                                    </div>
                                </div>
                            </li>

                            <li class="list-group-item" id="container-divisiones-detalle">
                                <div class="row">
                                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                        <p><strong>Divisiones:</strong></p>
                                    </div>
                                    <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                        <p id="detDivisiones">Hasta 60 Kg</p>
                                    </div>
                                </div>
                            </li>

                        </ul>

                        <br>

                        <h5>Documentacion</h5>

                        <ul class="list-group">

                            <li class="list-group-item">

                                <div class="row">

                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" id="detContainer-docIdentidad">

                                        <a class="btn btn-info btn-block text-left" id="detDesDocumentoIdentidad" style="color:white;" target="_blank"><i class="fa fa-download"></i>&nbsp; &nbsp; Documento de identidad</a>
                                        <br>

                                    </div>

                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" id="detContainer-docConsEstudio">

                                        <a class="btn btn-info btn-block text-left" id="detDesConstEstudio" style="color:white;" target="_blank"><i class="fa fa-download"></i>&nbsp; &nbsp; Constancia de estudios</a>
                                        <br>

                                    </div>

                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" id="detContainer-docFichVigente">

                                        <a class="btn btn-info btn-block text-left" id="detDesFichaMedicaVigente" style="color:white;" target="_blank"><i class="fa fa-download"></i>&nbsp; &nbsp; Ficha medica vigente</a>
                                        <br>

                                    </div>

                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" id="detContainer-docFormIns">

                                        <a class="btn btn-info btn-block text-left" id="detDesdetFormularioInscripcion" style="color:white;" target="_blank"><i class="fa fa-download"></i>&nbsp; &nbsp; Formulario de inscripcion</a>
                                        <br>

                                    </div>

                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" id="detContainer-docPolizSegu">

                                        <a class="btn btn-info btn-block text-left" id="detDesPolizaSeguro" style="color:white;" target="_blank"><i class="fa fa-download"></i>&nbsp; &nbsp; Poliza de seguro</a>
                                        <br>

                                    </div>

                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" id="detContainer-docCertDis">

                                        <a class="btn btn-info btn-block text-left" id="detDesCertificadoDis" style="color:white;" target="_blank"><i class="fa fa-download"></i>&nbsp; &nbsp; Certificado de discapacidad</a>
                                        <br>

                                    </div>

                                </div>

                            </li>

                        </ul>

                    </div>
                </div>
            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>

            </div>
        </div>
        

    </div>
    
</div>

<div class="modal fade" id="modal-nuevo-integrante" role="dialog" aria-hidden="true">

    <div class="modal-dialog modal-lg" role="document">

        <div class="modal-content">

            <form id="submit_form" action="#" enctype="multipart/form-data" method="POST" >

                <div class="modal-header header-modal container-header-yellow">
                    <h4 class="modal-title">Registra un nuevo integrante</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" style="color:white;">&times;</span>
                    </button>
                </div>

                <div class="modal-body">

                    <div class="row">

                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                            <div id="alerta-error" class="alert alert-danger collapse text-center"></div>

                            <h5>Informacion personal</h5>

                            <ul class="list-group">

                                <input type="hidden" name="disDelegId" id="disDelegId">
                                <input type="hidden" name="paisRepresenta" id="paisRepresenta">
                                <input type="hidden" name="disciplinaId" id="disciplinaId" >

                                <li class="list-group-item"  atr-id="cond_doc_fot_perf" >
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Foto de perfil</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="fotoPerfil"  id="fotoPerfil" required="true" accept="image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Tipo Doc</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                    <select class="form-control" name="tipoDocumento"  id="tipoDocumento" required="true">
                                                        <option value="1">DNI</option>
                                                        <option value="2">Pasaporte</option>
                                                        <option value="3">C√©dula de identidad</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Num Doc:</strong></p>
                                                </div>
                                                <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                    <input class="form-control" name="numeroDocumento"  id="numeroDocumento" type="text" required="true" maxlength="20">
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Nombres:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <input  class="form-control" name="nombre" id="nombre" type="text" required="true" maxlength="120" oninput="this.value = this.value.toUpperCase()">
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Apellido
                                                    Paterno</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                    <input  class="form-control" id="apellidoPaterno" name="apellidoPaterno"  type="text" required="true" maxlength="100" oninput="this.value = this.value.toUpperCase()">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Apellido
                                                    Materno:</strong></p>
                                                </div>
                                                <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                    <input class="form-control" name="apellidoMaterno"  id="apellidoMaterno" type="text" required="true" maxlength="120" oninput="this.value = this.value.toUpperCase()">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Sexo</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                    <select class="form-control" name="sexoId" id="sexoId" required="true">
                                                        <option value="1" >MASCULINO</option>
                                                        <option value="2" >FEMENINO</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Fecha de Nacimiento:</strong></p>
                                                </div>
                                                <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                    <input class="form-control" type="date"  name="fechaNacimiento" id="fechaNacimiento" required="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row" >
                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Correo:</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                    <input type="email" class="form-control" name="correo" id="correo" required="true" oninput="this.value = this.value.toUpperCase()">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Pa√≠s de nacimiento:</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                    <select class="form-control" name="paisOrigen" id="paisOrigen" required="true">
                                                        {% for pais in paises %}
                                                        <option value="{{pais['id']}}">{{pais['nombre']}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li  class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Tipo de participante:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <select class="form-control" id="tipoParticipante" name="tipoParticipante" onchange="changeTipoParticipante(this)" required="true">
                                            </select>
                                        </div>
                                    </div>
                                </li>


                                <li class="list-group-item" id="container-modalidad-nuevo" style="display:none;" >

                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                            <p><span style="color:#B31A12">*</span><strong> Modalidad:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">
                                            <div class="row"  id="modal-container-modalidades">
                                            </div>
                                        </div>
                                    </div>

                                </li>


                                <li class="list-group-item" id="container-divisiones-nuevo" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                            <p><span style="color:#B31A12">*</span><strong> Divisiones:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">
                                            <div class="row"  id="modal-container-divisiones">
                                            </div>
                                        </div>
                                    </div>    
                                </li>

                            </ul>

                            <br>

                            <h5>Documentacion</h5>

                            <ul class="list-group">

                                <li class="list-group-item" atr-id="cond_doc_ident"  style="display:none;" >
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Documento de identidad</strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file"  name="documentoIdentidad" id="documentoIdentidad" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_const_est" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Constancia de estudios</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file"  name="constEstudio" id="constEstudio" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_ficha_medica" style="display:none;" >
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Ficha m√©dica vigente</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="fichaMedicaVigente" id="fichaMedicaVigente" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_form_inscrip" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Formulario de
                                            inscripci√≥n</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="formularioInscripcion" id="formularioInscripcion" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_poliz_seg" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> P√≥liza de seguro</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="polizaSeguro" id="polizaSeguro" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_cert_disc" style="display:none;">
                                    <div class="row" style="display:none;">
                                        <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                            <p> ¬øEl participante presenta alg√∫n tipo de discapacidad f√≠sica o
                                                mental?
                                            </p>
                                        </div>
                                        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="estadoDis"  name="estadoDis" value="1">
                                                <label class="form-check-label" for="defaultCheck1" >
                                                    Si
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Certificado de
                                            discapacidad</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" id="certificadoDis" name="certificadoDis" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>

                            <br>
                            <span style="color:#B31A12; font-size:12px;">(*) Campos obligatorios.</span><br>
                            <span style="color:grey; font-size:12px;"> Los formatos v√°lidos en las im√°genes son:
                            'png', 'jpg' o 'jpeg'. Peso m√°ximo de 5M. </span>

                        </div>
                    </div>
                </div>

                <div class="modal-footer">

                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                    <button id="btn_guardar" type="submit" class="btn btn-success">Guardar</button>
                </div>

            </form>
        
        </div>
    </div>
</div>

<div class="modal fade" id="modal-editar-integrante" role="dialog" aria-hidden="true">

    <div class="modal-dialog modal-lg" role="document">

        <div class="modal-content">

            <form id="submit_form_editar" action="#" enctype="multipart/form-data" method="POST" >

                <div class="modal-header header-modal container-header-yellow">

                    <h4 class="modal-title">Editar integrante</h4>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" style="color:white;">&times;</span>
                    </button>

                </div>

                <div class="modal-body">

                    <div class="row">

                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                            <div id="alerta-error" class="alert alert-danger collapse text-center"></div>

                            <h5>Informacion personal</h5>

                            <ul class="list-group">

                                <input type="hidden" name="editDisDelegId" id="editDisDelegId">
                                <input type="hidden" name="editInscribiteId" id="editInscribiteId">
                                <input type="hidden" name="disciplinaId" id="disciplinaId">

                                <li class="list-group-item" atr-id="cond_doc_fot_perf">
                                    <div class="row">

                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Foto de perfil</strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="editFotoPerfil"  id="editFotoPerfil" accept="image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Tipo Doc</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8" id="container-editTipoDocumento" >
                                                    <select class="form-control" name="editTipoDocumento"  id="editTipoDocumento">
                                                        <option value="1">DNI</option>
                                                        <option value="2">Pasaporte</option>
                                                        <option value="3">C√©dula de identidad</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Num Doc:</strong></p>
                                                </div>
                                                <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                    <input class="form-control" name="editNumeroDocumento"  id="editNumeroDocumento" type="text">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Nombres:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <input  class="form-control" name="editNombre" id="editNombre" type="text" oninput="this.value = this.value.toUpperCase()">
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Apellido
                                                    Paterno</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                    <input  class="form-control" id="editApellidoPaterno" name="editApellidoPaterno"  type="text" oninput="this.value = this.value.toUpperCase()">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Apellido
                                                    Materno:</strong></p>
                                                </div>
                                                <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                    <input class="form-control" name="editApellidoMaterno"  id="editApellidoMaterno" type="text" oninput="this.value = this.value.toUpperCase()">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Sexo</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8" id="container-editSexoId" >
                                                    <select class="form-control" name="editSexoId" id="editSexoId">
                                                        <option value="1" >MASCULINO</option>
                                                        <option value="2" >FEMENINO</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Fecha de
                                                    Nacimiento:</strong></p>
                                                </div>
                                                <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                                                    <input class="form-control" type="date"  name="editFechaNacimiento" id="editFechaNacimiento">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item">
                                    <div class="row" >
                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Correo:</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                                    <input type="email" class="form-control" name="editCorreo" id="editCorreo" oninput="this.value = this.value.toUpperCase()">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                            <div class="row">
                                                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                                    <p><span style="color:#B31A12">*</span><strong> Pa√≠s de nacimiento:</strong></p>
                                                </div>
                                                <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8" id="container-editPaisOrigen" >
                                                    <select class="form-control" name="editPaisOrigen" id="editPaisOrigen">

                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li  class="list-group-item">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Tipo de participante:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8" id="container-editTipoParticipante">
                                            <select class="form-control" id="editTipoParticipante" name="editTipoParticipante" onchange="changeTipoParticipante(this)">
                                            </select>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" id="container-modalidad-editar" style="display:none;" >

                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                            <p><span style="color:#B31A12">*</span><strong> Modalidad:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">
                                            <div class="row"  id="editModal-container-modalidades">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" id="container-divisiones-editar" style="display:none;">

                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3">
                                            <p><span style="color:#B31A12">*</span><strong> Divisiones:</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-9">
                                            <div class="row"  id="editModal-container-divisiones">
                                            </div>
                                        </div>
                                    </div>    
                                </li>

                            </ul>
                            <br>

                            <h5>Documentacion</h5>

                            <ul class="list-group" id="edit-lista-documentacion" >
                                <li class="list-group-item" atr-id="cond_doc_ident" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Documento de identidad</strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file"  name="editDocumentoIdentidad" id="editDocumentoIdentidad" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_const_est" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Constancia de estudios</strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file"  name="editConstEstudio" id="editConstEstudio" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_ficha_medica" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Ficha medica vigente</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="editFichaMedicaVigente" id="editFichaMedicaVigente" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_form_inscrip" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Formulario de
                                            inscripcion</strong></p>
                                        </div>
                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="editFormularioInscripcion" id="editFormularioInscripcion" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_poliz_seg" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Poliza de seguro</strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" name="editPolizaSeguro" id="editPolizaSeguro" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <li class="list-group-item" atr-id="cond_doc_cert_disc" style="display:none;">
                                    
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Certificado de
                                            discapacidad</strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <input type="file" class="form-control-file" id="editCertificadoDis" name="editCertificadoDis" accept="application/pdf, image/*">
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>


                            <br>

                            <h5>Movimientos del Participante</h5>

                            <ul class="list-group">

                                <li class="list-group-item" atr-id="cond_doc_ident" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Estado </strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <select class="form-control" id="editEstadoInscripcion" name="editEstadoInscripcion">
                                                    
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </li>


                                <li class="list-group-item" atr-id="cond_doc_ident" style="display:none;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                            <p><span style="color:#B31A12">*</span><strong> Comentario </strong></p>
                                        </div>

                                        <div class="col-xs-6 col-sm-8 col-md-8 col-lg-8">
                                            <div class="form-group">
                                                <textarea class="form-control"  id="editObservacion" name="editObservacion">
                                                </textarea>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                            </ul>

                            <span style="color:#B31A12; font-size:12px;">(*) Campos obligatorios.</span><br>
                            <span style="color:grey; font-size:12px;"> Los formatos v√°lidos en las im√°genes son:
                            'png', 'jpg' o 'jpeg'. Peso m√°ximo de 5M. </span>

                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                    <button id="btn_editar" type="submit" class="btn btn-success">Editar</button>
                </div>


            </form>

        </div>
 
    </div>
</div>
</div>

{% include 'SudJuvenilesBundle:Default:footer.html.twig' %} 

<!-- MODAL EDITAR INFO PARTICIPANTE -->

{% endblock %}

{% block javascripts %}

    <script>

        $('[data-toggle="tooltip"]').tooltip();

        var modalidadInscripcion =  new Array();
        var divisionInscripcion =  new Array();

        var existenModalidades = false;
        var existenDivisiones = false;


        //ELIMINAR INSCRIPCION
        $("#btnConfElimInscripcion").on('click',function(){

            let datos = { 'inscripcionId':$("#elimInscripcionId").val() };

            $.ajax({
                url: "{{url('participanteEliminar')}}",
                type: 'POST',
                data: datos ,
                beforeSend: function() {
                    console.log("Datos a Enviar ==> ",datos);
                },
                success: function(data) {

                    if(data == 1){
                        alertify.success('<p style="color:white">Se elimino Correctamente.</p>');
                        setTimeout(function(){ location.reload(true) }, 1000);
                        
                    }else if(data == 0){
                        alertify.warning('<p style="color:black">Ocurrio un Error a la hora de Eliminar.</p>')
                    }                    

                },
                error: function (error) {
                    console.log("Error =>",error);
                }
            });
        });


        //PASAR INSCRIPCION ID AL INPUT PARA ELIMINAR INSCRIPCION
        const setInscripcionIdInput = function(inscripcionId){
            $("#elimInscripcionId").val(inscripcionId);
        };

        //DETALLE PARTICIPANTE
        const detalleInformacionParticipante = function(disDelegId,inscripcionId,disciplinaCategoria,delegTipoGrupo,disciplinaId){

            $("#detModalidades").empty();
            $("#detTipoParticipante").empty();
            $("#detDivisiones").empty();
            $("#detAsignaciones").empty();
            $("#detNumeroDocumento").empty();
            $("#detTipoDocumento").empty();
            $("#detNombre").empty();
            $("#detApellidoPaterno").empty();
            $("#detApellidoMaterno").empty();
            $("#detSexoId").empty();
            $("#detFechaNacimiento").empty();
            $("#detCorreo").empty();
            $("#detPaisOrigen").empty();
            $("#container-modalidad-detalle").hide();
            $("#container-divisiones-detalle").hide();

            const datos = {
                'inscripcionId':inscripcionId
            }

        $.ajax({
            url: "{{url('participanteObtener')}}",
            type: 'POST',
            data: datos ,
            beforeSend: function() {},
            success: function(data) {

                console.log(data);
                let datosParticipante = JSON.parse(data)[0];

                console.log("Datos Participante =>",datosParticipante);

                $("#detNumeroDocumento").text(datosParticipante.numeroDocumento);
                $("#detTipoDocumento").text(datosParticipante.nombreTipoDocumento);
                $("#detNombre").text(datosParticipante.nombre);
                $("#detApellidoPaterno").text(datosParticipante.apellidoPaterno);
                $("#detApellidoMaterno").text(datosParticipante.apellidoMaterno);
                $("#detSexoId").text(datosParticipante.sexoNombre);
                $("#detFechaNacimiento").text(datosParticipante.fechaNacimiento);
                $("#detCorreo").text(datosParticipante.correo);
                $("#detPaisOrigen").text(datosParticipante.paisOrigenNombre);

                $("#detFotoPerfil").attr('src','/sudamericanos_juveniles/web/'+datosParticipante.rutaFotoPerfil)

                if(datosParticipante.rutaDocumentoIdentidad != null){

                    $("#detContainer-docIdentidad").show();
                    $("#detDocumentoIdentidad").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaDocumentoIdentidad);
                    $("#detDesDocumentoIdentidad").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaDocumentoIdentidad);
                }else{
                    $("#detContainer-docIdentidad").hide();
                }

                if(datosParticipante.rutaConstanciaEstudio != null){

                    $("#detContainer-docConsEstudio").show();
                    $("#detConstEstudio").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaConstanciaEstudio);
                    $("#detDesConstEstudio").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaConstanciaEstudio);
                }else{
                    $("#detContainer-docConsEstudio").hide();
                }

                if(datosParticipante.rutaFichaMedica != null){

                    $("#detContainer-docFichVigente").show();
                    $("#detFichaMedicaVigente").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaFichaMedica);
                    $("#detDesFichaMedicaVigente").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaFichaMedica);
                }else{
                    $("#detContainer-docFichVigente").hide();
                }

                if(datosParticipante.rutaFormularioInscripcion != null){

                    $("#detContainer-docFormIns").show();
                    $("#detFormularioInscripcion").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaFormularioInscripcion);
                    $("#detDesFormularioInscripcion").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaFormularioInscripcion);
                }else{
                    $("#detContainer-docFormIns").hide();
                }

                if(datosParticipante.rutaPolizaSeguro != null){

                    $("#detContainer-docPolizSegu").show();
                    $("#detPolizaSeguro").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaPolizaSeguro);
                    $("#detDesPolizaSeguro").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaPolizaSeguro);  
                }else{
                    $("#detContainer-docPolizSegu").hide();
                }

                if( datosParticipante.rutaCertificadoDiscapacidad != null){

                    $("#detContainer-docCertDis").show();
                    $("#detCertificadoDis").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaCertificadoDiscapacidad);
                    $("#detDesCertificadoDis").attr('href','/sudamericanos_juveniles/web/'+datosParticipante.rutaCertificadoDiscapacidad);
                }else{
                    $("#detContainer-docCertDis").hide();
                }

                var arrayModalidad = new Array();
                var arrayDivision = new Array();
                var arrayAsignacion = new Array();

                if(datosParticipante.modalidades != null){
                     arrayModalidad = datosParticipante.modalidades.split(",");
                     $("#container-modalidad-detalle").show();
                 }else{
                    arrayModalidad = [];
                    $("#container-modalidad-detalle").hide();
                }

                if(datosParticipante.divisiones != null){
                    arrayDivision = datosParticipante.divisiones.split(",");
                    $("#container-divisiones-detalle").show();
                }else{
                    arrayDivision = [];
                    $("#container-divisiones-detalle").hide();
                }

                if(datosParticipante.asignaciones != null)
                    arrayAsignacion = datosParticipante.asignaciones.split(",");
                else
                    arrayAsignacion = [];

                {% for tipPar in tiposParticipante %}

                    if( "{{tipPar['categoria_id']}}" == disciplinaCategoria && "{{tipPar['tipo_grupo_id']}}" == delegTipoGrupo &&  "{{tipPar['id']}}" ){ 

                        if(  "{{tipPar['id']}}" == datosParticipante.tipoParticipante )
                            $("#detTipoParticipante").append("{{tipPar['nombre']}}");
                    }

                {%  endfor %}

                {%  for modalidad in modalidades %}

                    if("{{modalidad['disciplinaId']}}" == disciplinaId ){

                        for(let i=0; i<arrayModalidad.length; i++){

                            if( "{{modalidad['modalidadId']}}" == arrayModalidad[i] )
                                $("#detModalidades").append("{{modalidad['modalidadNombre']}}" + ",  ");

                        }

                    }

                {% endfor %}


                {%  for division in divisiones %}

                    if("{{division['disciplinaId']}}" == disciplinaId ){

                        for(let i=0; i<arrayDivision.length; i++){

                            if( "{{division['divisionId']}}" == arrayDivision[i] ){
                                console.log("{{division['divisionNombre']}}");
                                $("#detDivisiones").append("{{division['divisionNombre']}}" + ",  ");
                            }

                        }

                    }

                {% endfor %}

                console.log(arrayAsignacion);

                {%  for asignacion in asignaciones %}

                    for(let i=0; i<arrayAsignacion.length; i++){

                        if( "{{asignacion['asignacionId']}}" == arrayAsignacion[i] ){
                    
                            console.log("{{asignacion['asignacionNombre']}}");
                            $("#detAsignaciones").append("{{asignacion['asignacionNombre']}}" + ",  ");
                    
                        }
                    
                    }

                {% endfor %}



                // console.log("Informacion Participante => ",datosParticipante);
            },
            error: function (error) {
                console.log("Error =>",error);
            }
        });

    };


    const changeTipoParticipante = function(element){

        var tipoParticipanteId = null;

        if(element.value)
            tipoParticipanteId = element.value;
        else 
            tipoParticipanteId = element;

        if(tipoParticipanteId == 1){

             if (existenModalidades){
                
                $("#container-modalidad-nuevo").show();
                $("#container-modalidad-editar").show();
            
            }

            if (existenDivisiones){
            
                $("#container-divisiones-nuevo").show();
                $("#container-divisiones-editar").show();
            
            }
            
        }else{
            $("#container-modalidad-nuevo").hide();
            $("#container-divisiones-nuevo").hide();

            $("#container-modalidad-editar").hide();
            $("#container-divisiones-editar").hide(); 

            modalidadInscripcion = [];
            divisionInscripcion = [];

            $(".form-check-input").prop('checked',false);               

        }

        let disciplinaId = $("#disciplinaId").val();

        {% for confCondDoc in configuracionCondicionDocumento %}

        if( "{{confCondDoc['tipoParticipanteId']}}" == tipoParticipanteId && "{{confCondDoc['disciplinaId']}}" == disciplinaId  ){

            if("{{confCondDoc['cond_doc_fot_perf']}}" == 1){
                $("[atr-id='cond_doc_fot_perf']").show(); //OBLIGATORIO
                $("#fotoPerfil").attr('required',true);
            }else if( "{{confCondDoc['cond_doc_fot_perf']}}" == 2 ){
                $("[atr-id='cond_doc_fot_perf']").show(); //NO OBLIGATORIO
                $("#fotoPerfil").removeAttr('required');
            }else if( "{{confCondDoc['cond_doc_fot_perf']}}" == 3 ){
                $("[atr-id='cond_doc_fot_perf']").hide(); //NO SE SOLICITA
                $("#fotoPerfil").removeAttr('required');
            }

            if("{{confCondDoc['cond_doc_ident']}}" == 1){
                $("[atr-id='cond_doc_ident']").show(); //OBLIGATORIO
                $("#documentoIdentidad").attr('required',true);
            }else if( "{{confCondDoc['cond_doc_ident']}}" == 2 ){
                $("[atr-id='cond_doc_ident']").show(); //NO OBLIGATORIO
                $("#documentoIdentidad").removeAttr('required');
            }else if( "{{confCondDoc['cond_doc_ident']}}" == 3 ){
                $("[atr-id='cond_doc_ident']").hide(); //NO SE SOLICITA
                $("#documentoIdentidad").removeAttr('required');
            }


            if("{{confCondDoc['cond_doc_const_est']}}" == 1){
                $("[atr-id='cond_doc_const_est']").show(); //OBLIGATORIO
                $("#constEstudio").attr('required',true);
            }else if( "{{confCondDoc['cond_doc_const_est']}}" == 2 ){
                $("[atr-id='cond_doc_const_est']").show(); //NO OBLIGATORIO
                $("#constEstudio").removeAttr('required');
            }else if( "{{confCondDoc['cond_doc_const_est']}}" == 3 ){
                $("[atr-id='cond_doc_const_est']").hide(); //NO SE SOLICITA
                $("#constEstudio").removeAttr('required');
            }

            if("{{confCondDoc['cond_doc_ficha_medica']}}" == 1){
                $("[atr-id='cond_doc_ficha_medica']").show(); //OBLIGATORIO
                $("#fichaMedicaVigente").attr('required',true);
            }else if( "{{confCondDoc['cond_doc_ficha_medica']}}" == 2 ){
                $("[atr-id='cond_doc_ficha_medica']").show(); //NO OBLIGATORIO
                $("#fichaMedicaVigente").removeAttr('required');
            }else if( "{{confCondDoc['cond_doc_ficha_medica']}}" == 3 ){
                $("[atr-id='cond_doc_ficha_medica']").hide(); //NO SE SOLICITA
                $("#fichaMedicaVigente").removeAttr('required');
            }

            if("{{confCondDoc['cond_doc_form_inscrip']}}" == 1){
                $("[atr-id='cond_doc_form_inscrip']").show(); //OBLIGATORIO
                $("#formularioInscripcion").attr('required',true);
            }else if( "{{confCondDoc['cond_doc_form_inscrip']}}" == 2 ){
                $("[atr-id='cond_doc_form_inscrip']").show(); //NO OBLIGATORIO
                $("#formularioInscripcion").removeAttr('required');
            }else if( "{{confCondDoc['cond_doc_form_inscrip']}}" == 3 ){
                $("[atr-id='cond_doc_form_inscrip']").hide(); //NO SE SOLICITA
                $("#formularioInscripcion").removeAttr('required');
            }

            if("{{confCondDoc['cond_doc_poliz_seg']}}" == 1){
                $("[atr-id='cond_doc_poliz_seg']").show(); //OBLIGATORIO
                $("#polizaSeguro").attr('required',true);
            }else if( "{{confCondDoc['cond_doc_poliz_seg']}}" == 2 ){
                $("[atr-id='cond_doc_poliz_seg']").show(); //NO OBLIGATORIO
                $("#polizaSeguro ").removeAttr('required');
            }else if( "{{confCondDoc['cond_doc_poliz_seg']}}" == 3 ){
                $("[atr-id='cond_doc_poliz_seg']").hide(); //NO SE SOLICITA
                $("#polizaSeguro ").removeAttr('required');
            }

            if("{{confCondDoc['cond_doc_cert_disc']}}" == 1){
                $("[atr-id='cond_doc_cert_disc']").show(); //OBLIGATORIO
                $("#certificadoDis").attr('required',true);
            }else if( "{{confCondDoc['cond_doc_cert_disc']}}" == 2 ){
                $("[atr-id='cond_doc_cert_disc']").show(); //NO OBLIGATORIO
                $("#certificadoDis").removeAttr('required');
            }else if( "{{confCondDoc['cond_doc_cert_disc']}}" == 3 ){
                $("[atr-id='cond_doc_cert_disc']").hide(); //NO SE SOLICITA
                $("#certificadoDis").removeAttr('required');
            }

        }

    {% endfor %}

    };


//OBTENER INFORMACION PARTICIPANTE PARA EDITAR
const obtenerInfoParti = function(disDelegId,inscripcionId,disciplinaCategoria,delegTipoGrupo,disciplinaId){


    {% for pais in paises %}
        $("#editPaisOrigen").append("<option value={{pais['id']}}>{{pais['nombre']}}</option>");
    {% endfor %}

    modalidadInscripcion = [];
    divisionInscripcion = [];

    $("#editModal-container-modalidades").empty();
    $("#editTipoParticipante").empty();
    $("#editEstadoInscripcion").empty();
    $("#editTipoParticipante").append("<option value=''>--Seleccionar--</option>");
    $("#editModal-container-divisiones").empty();

    $("#editDisDelegId").val(disDelegId);
    $("#editInscribiteId").val(inscripcionId);
    $("#disciplinaId").val(disciplinaId);

    $("#container-modalidad-editar").hide(); 
    $("#container-divisiones-editar").hide(); 
    $("#editNumeroDocumento").val("");
    $("#editNombre").val("");
    $("#editApellidoPaterno").val("");
    $("#editApellidoMaterno").val("");
    $("#editFechaNacimiento").val("");
    $("#editCorreo").val("");

    const datos = {
        'inscripcionId':inscripcionId
    }

    $.ajax({
        url: "{{url('participanteObtener')}}",
        type: 'POST',
        data: datos ,
        beforeSend: function() {
            //console.log("Datos a Enviar ==> ",datos);
        },
        success: function(data) {

            let datosParticipante = JSON.parse(data)[0];

            $("#editNumeroDocumento").val(datosParticipante.numeroDocumento);
            $("#editTipoDocumento").val(datosParticipante.tipoDocumento);
            $("#editNombre").val(datosParticipante.nombre);
            $("#editApellidoPaterno").val(datosParticipante.apellidoPaterno);
            $("#editApellidoMaterno").val(datosParticipante.apellidoMaterno);
            $("#editSexoId").val(datosParticipante.sexoId);
            $("#editFechaNacimiento").val(datosParticipante.fechaNacimiento);
            $("#editCorreo").val(datosParticipante.correo);
            $("#editPaisOrigen").val(datosParticipante.paisOrigen);

            if("{{tipoUsuarioId}}" == "{{tipoUsuario['acreditador']}}"){

                $("#editNumeroDocumento").attr('readonly','readonly');

                $("#container-editTipoDocumento").empty();
                $("#container-editTipoDocumento").append(`<input class='form-control' disabled  value=${datosParticipante.nombreTipoDocumento}><input type='hidden' id='editTipoDocumento' name='editTipoDocumento' value=${datosParticipante.tipoDocumento} >`);
                $("#editTipoDocumento").attr('readonly','readonly');

                $("#editNombre").attr('readonly','readonly');
                $("#editApellidoPaterno").attr('readonly','readonly');
                $("#editApellidoMaterno").attr('readonly','readonly');

                $("#container-editSexoId").empty();
                $("#container-editSexoId").append(`<input class='form-control' disabled  value=${datosParticipante.sexoNombre}><input type='hidden' id='editSexoId' name='editSexoId' value=${datosParticipante.sexoId} >`);
                $("#editSexoId").attr('readonly','readonly');

                $("#editFechaNacimiento").attr('readonly','readonly');
                $("#editCorreo").attr('readonly','readonly');

                $("#container-editPaisOrigen").empty();
                $("#container-editPaisOrigen").append(`<input class='form-control' disabled  value=${datosParticipante.paisOrigenNombre}><input type='hidden' id='editPaisOrigen' name='editPaisOrigen' value=${datosParticipante.paisOrigen} >`);
                $("#editPaisOrigen").attr('readonly','readonly');

                $("#container-editTipoParticipante").empty();

                {% for tipPar in tiposParticipante %}

                    if(  "{{tipPar['id']}}" == datosParticipante.tipoParticipante )
                        $("#container-editTipoParticipante").append(`<input class='form-control' disabled  value='{{tipPar['nombre']}}'><input type='hidden' id='editTipoParticipante' name='editTipoParticipante' value=${datosParticipante.tipoParticipante} >`);

                {%  endfor %}

                $("#editTipoParticipante").attr('readonly','readonly');

                $("#edit-lista-documentacion").hide();
            }else{

                $("#editNumeroDocumento").removeAttr('readonly');
                $("#editTipoDocumento").removeAttr('readonly');
                $("#editNombre").removeAttr('readonly');
                $("#editApellidoPaterno").removeAttr('readonly');
                $("#editApellidoMaterno").removeAttr('readonly');
                $("#editSexoId").removeAttr('readonly');
                $("#editFechaNacimiento").removeAttr('readonly');
                $("#editCorreo").removeAttr('readonly');
                $("#editPaisOrigen").removeAttr('readonly');
                $("#editTipoParticipante").removeAttr('readonly');
                $("#edit-lista-documentacion").show();
            }

            var arrayModalidad = new Array();
            var arrayDivision = new Array();

            if(datosParticipante.modalidades != null){
                arrayModalidad = datosParticipante.modalidades.split(",");
                $("#container-modalidad-editar").show();                
            }else{
                arrayModalidad = [];
                $("#container-modalidad-editar").hide(); 
            }

            if(datosParticipante.divisiones != null){
                arrayDivision = datosParticipante.divisiones.split(",");
                $("#container-divisiones-editar").show(); 
            }else{
                arrayDivision = [];
                $("#container-divisiones-editar").hide(); 
            }


            {% for tipPar in tiposParticipante %}

            if( "{{tipPar['categoria_id']}}" == disciplinaCategoria && "{{tipPar['tipo_grupo_id']}}" == delegTipoGrupo &&  "{{tipPar['id']}}" ){ 

                if(  "{{tipPar['id']}}" == datosParticipante.tipoParticipante )
                    $("#editTipoParticipante").append("<option selected value='{{tipPar['id']}}'>{{tipPar['nombre']}}</option>");
                else
                    $("#editTipoParticipante").append("<option value='{{tipPar['id']}}'>{{tipPar['nombre']}}</option>");
            }

            {%  endfor %}

            changeTipoParticipante(datosParticipante.tipoParticipante);


            {%  for modalidad in modalidades %}

            if("{{modalidad['disciplinaId']}}" == disciplinaId ){

                let flag = 0;

                for (let i = 0; i < arrayModalidad.length; i++) {

                    if( "{{modalidad['modalidadId']}}" == arrayModalidad[i] ){


                        if("{{tipoUsuarioId}}" == "{{tipoUsuario['acreditador']}}"){

                            $("#editModal-container-modalidades").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label  class='form-check-label'><input disabled class='form-check-input' type='checkbox' onclick='checkModalidad(this)' value='{{modalidad['modalidadId']}}' checked >{{modalidad['modalidadNombre']}}</label></div></div>");
                            modalidadInscripcion.push("{{modalidad['modalidadId']}}");

                        }else{

                            $("#editModal-container-modalidades").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkModalidad(this)' value='{{modalidad['modalidadId']}}' checked >{{modalidad['modalidadNombre']}}</label></div></div>");
                            modalidadInscripcion.push("{{modalidad['modalidadId']}}");
                        }

                        flag = 1;
                        break;
                    }
                }

                if(flag == 0){

                    if("{{tipoUsuarioId}}" == "{{tipoUsuario['acreditador']}}"){

                        $("#editModal-container-modalidades").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input disabled class='form-check-input' type='checkbox' onclick='checkModalidad(this)' value='{{modalidad['modalidadId']}}' >{{modalidad['modalidadNombre']}}</label></div></div>"); 

                    }else{

                        $("#editModal-container-modalidades").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkModalidad(this)' value='{{modalidad['modalidadId']}}' >{{modalidad['modalidadNombre']}}</label></div></div>"); 
                    }

                }

            }

            {% endfor %}

            {%  for division in divisiones %}

            if("{{division['disciplinaId']}}" == disciplinaId ){

                let flag = 0;

                for (let i = 0; i < arrayDivision.length; i++) {

                    if( "{{division['divisionId']}}" == arrayDivision[i] ){

                        if("{{tipoUsuarioId}}" == "{{tipoUsuario['acreditador']}}"){

                            $("#editModal-container-divisiones").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input disabled class='form-check-input' type='checkbox' onclick='checkDivision(this)' value='{{division['divisionId']}}' checked >{{division['divisionNombre']}}</label></div></div>");
                            divisionInscripcion.push("{{division['divisionId']}}");

                        }else{
                            $("#editModal-container-divisiones").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkDivision(this)' value='{{division['divisionId']}}' checked >{{division['divisionNombre']}}</label></div></div>");
                            divisionInscripcion.push("{{division['divisionId']}}");
                        }


                        flag = 1;
                        break;
                    }
                }

                if(flag == 0){

                    if("{{tipoUsuarioId}}" == "{{tipoUsuario['acreditador']}}"){
                        $("#editModal-container-divisiones").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input disabled class='form-check-input' type='checkbox' onclick='checkDivision(this)' value='{{division['divisionId']}}' >{{division['divisionNombre']}}</label></div></div>");  
                    }else{
                        $("#editModal-container-divisiones").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkDivision(this)' value='{{division['divisionId']}}' >{{division['divisionNombre']}}</label></div></div>");
                    }
   
                }

            }

            {% endfor %}


            const estadoInscripcionByTipoUsuario = {
                '1':[1,3,4,5,6], //administrador
                '2':[1,3,4,5,6], //acreditador
                '3':[1,4,5] //delegacion
            }

            var arrayEstadosTipoUsuario = estadoInscripcionByTipoUsuario["{{tipoUsuarioId}}"];
            var flagIns = false;

            for (let i = 0; i < arrayEstadosTipoUsuario.length; i++) {
                
                var nombreEstado = null;
                var idEstado = null;
                var flag = false;

                {% for estIns in estadosInscripcion %}

                    if( arrayEstadosTipoUsuario[i] == "{{estIns['id']}}" ){
                        
                        nombreEstado = "{{estIns['nombre']}}";
                        idEstado = "{{estIns['id']}}";
                        flag = true;
                       
                    }

                {% endfor %}

                if(flag){
                    
                    if(  idEstado == datosParticipante.estadoInscripcionId ){
                        $("#editEstadoInscripcion").append(`<option value=${idEstado} selected >${nombreEstado}</option>`);
                        flagIns=true;
                    }
                    else if( idEstado != datosParticipante.estadoInscripcionId )
                        $("#editEstadoInscripcion").append(`<option value=${idEstado}>${nombreEstado}</option>`);
                
                }
            }


            if(!flagIns){

                {% for estIns in estadosInscripcion %}

                    if( datosParticipante.estadoInscripcionId == "{{estIns['id']}}"){

                        $("#editEstadoInscripcion").append(`<option selected value={{estIns['id']}} selected >{{estIns['nombre']}}</option>`);
                        $("#editEstadoInscripcion").attr('disabled','disabled');
                    } 

                {% endfor %}
            }else{

                $("#editEstadoInscripcion").removeAttr('disabled');
            }

        },
        error: function (error) {
            console.log("Error =>",error);
        }
    });
};

//INICIALIZA EL REGISTRO PARTICIPANTE
const btnNuevoIntegrante = function(disDelegId,disciplinaCategoria,disciplinaId,delegTipoGrupo){

    modalidadInscripcion = [];
    divisionInscripcion = [];

    existenModalidades = false;
    existenDivisiones = false;

    var modcounter = 0;
    var divcounter = 0;

            $("#container-modalidad-nuevo").hide();
            $("#container-divisiones-nuevo").hide();


            $("#fotoPerfil").val('');
            $("#numeroDocumento").val('');
            $("#nombre").val('');
            $("#apellidoPaterno").val('');
            $("#apellidoMaterno").val('');
            $("#nombre").val('');
            $("#correo").val('');
            $("#fechaNacimiento").val('');
            $("#documentoIdentidad").val('');
            $("#constEstudio").val('');
            $("#fichaMedicaVigente").val('');
            $("#formularioInscripcion").val('');
            $("#polizaSeguro").val('');
            $("#certificadoDis").val('');

            $("#tipoDocumento").empty();
            $("#tipoDocumento").append("<option value=''>--Seleccionar--</option>");
            $("#tipoDocumento").append("<option value='1'>DNI</option>");
            $("#tipoDocumento").append("<option value='2'>PASAPORTE</option>");
            $("#tipoDocumento").append("<option value='3'>CEDULA DE IDENTIDAD</option>");

            $("#tipoParticipante").empty();
            $("#tipoParticipante").append("<option value=''>--Seleccionar--</option>");

            $("#paisOrigen").empty();
            $("#paisOrigen").append("<option value=''>--Seleccionar--</option>");

            $("#sexoId").empty();
            $("#sexoId").append("<option value=''>--Seleccionar--</option>");
            $("#sexoId").append("<option value='1'>MASCULINO</option>");
            $("#sexoId").append("<option value='2'>FEMENINO</option>");

            $("#modal-container-modalidades").empty();
            $("#modal-container-divisiones").empty();

            $("#disDelegId").val(disDelegId);
            $("#paisRepresenta").val("{{delegacion['paisId']}}");
            $("#disciplinaId").val(disciplinaId);

            
            {% for pais in paises %}

                $("#paisOrigen").append("<option value='{{pais['id']}}'>{{pais['nombre']}}</option>");

            {% endfor %}

            {% for tipPar in tiposParticipante %}

                if( "{{tipPar['categoria_id']}}" == disciplinaCategoria && "{{tipPar['tipo_grupo_id']}}" == delegTipoGrupo ){ 

                    $("#tipoParticipante").append("<option value='{{tipPar['id']}}'>{{tipPar['nombre']}}</option>");

                }

            {%  endfor %}

            {%  for modalidad in modalidades %}

                if("{{modalidad['disciplinaId']}}" == disciplinaId ){

                    $("#modal-container-modalidades").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkModalidad(this)' value='{{modalidad['modalidadId']}}' >{{modalidad['modalidadNombre']}}</label></div></div>");
                    modcounter++;

                }

            {% endfor %}

            existenModalidades = modcounter > 0;

            {%  for division in divisiones %}

                if("{{division['disciplinaId']}}" == disciplinaId ){

                    $("#modal-container-divisiones").append("<div class='col-xs-6 col-sm-8 col-md-8 col-lg-4'><div class='form-group form-check'><label class='form-check-label'><input class='form-check-input' type='checkbox' onclick='checkDivision(this)' value='{{division['divisionId']}}'>{{division['divisionNombre']}}</label></div></div>");
                    divcounter++;

                }

            {% endfor %}

            existenDivisiones = divcounter > 0;

        };

$('#submit_form_editar').on("submit",function(e) {
    e.preventDefault();

    var obj = new FormData($("#submit_form_editar")[0]);


    console.log("Editar Modalidad =>",modalidadInscripcion);
    console.log("Editar Divisiones =>",divisionInscripcion)

    obj.append('editModalidades',modalidadInscripcion);
    obj.append('editDivisiones',divisionInscripcion);

    $.ajax({
        url: "{{url('participanteEditar')}}",
        type: 'POST',
        data: obj,
        contentType: false,
        cache: false,
        processData: false,
        beforeSend: function() {
            console.log("Datos a Enviar ==> ",obj);
        },
        success: function(data) {

         if(data == 1){
            alertify.success('<p style="color:white">Se edito Correctamente.</p>');
            setTimeout(function(){ location.reload(true) }, 1000);

        }else if(data == 0){
            alertify.warning('<p style="color:black">Ocurrio un Error a la hora de Registrar.</p>')
        }else if(data == -1){
            alertify.warning('<p style="color:black">Ya no existe vacantes para el participante.</p>')
        }
        },
        error: function (error) {
            console.log("Error =>",error);
        }
    });

});

$('#submit_form').on("submit",function(e) {
    
    e.preventDefault();

    var obj = new FormData($("#submit_form")[0]);

    console.log("Form =>",obj);

    obj.append('modalidades',modalidadInscripcion);
    obj.append('divisiones',divisionInscripcion);

    $.ajax({
        url: "{{url('participanteRegistrar')}}",
        type: 'POST',
        data: obj,
        contentType: false,
        cache: false,
        processData: false,
        beforeSend: function() {
            console.log("Datos a Enviar ==> ",obj);
        },
        success: function(data) {

            if(data == 1){
                alertify.success('<p style="color:white">Se registro Correctamente.</p>');
                setTimeout(function(){ location.reload(true) }, 1000);

            }else if(data == 0){
                alertify.warning('<p style="color:black">Ocurrio un Error a la hora de Registrar.</p>')
            }else if(data == -1){
                alertify.warning('<p style="color:black">Ya no existe vacantes para el Tipo de Participante!.</p>')
            }else if(data == -2){
                alertify.warning('<p style="color:black">Ya existe un participante activo en el evento con el mismo DNI!.</p>')
            }
        },
        error: function (error) {
            console.log("Error =>",error);
        }
    });

});

const checkModalidad = function(element){

    if (element.checked) 
        modalidadInscripcion.push(element.value);

    else         
        modalidadInscripcion.splice( modalidadInscripcion.indexOf(element.value), 1);

    console.log("Array Modalidad =>",modalidadInscripcion);
};

const checkDivision = function(element){

    if (element.checked) 
        divisionInscripcion.push(element.value);

    else         
        divisionInscripcion.splice( divisionInscripcion.indexOf(element.value), 1);

};


$("#descargar-listado-participantes").on('click',function(){

    window.location.href = "{{url('participantesExport',{delegacionId:delegacionId})}}"

});

$("#descargar-credenciales-participantes").on('click',function(){
    window.open("{{url('pdfCredenciales',{delegacionId:delegacionId})}}","_blank");
});


var today = new Date();
var dd = today.getDate();
var mm = today.getMonth()+1;
var yyyy = today.getFullYear();
if(dd<10){
    dd='0'+dd
} 
if(mm<10){
    mm='0'+mm
} 

today = yyyy+'-'+mm+'-'+dd;

$("#fechaNacimiento").attr("max", today);
$("#editFechaNacimiento").attr("max", today);

</script>


{% endblock %}